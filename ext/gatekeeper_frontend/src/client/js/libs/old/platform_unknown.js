// Platform.js (unknown)
(function(){"use strict";var e={"function":!0,object:!0},t=e[typeof window]&&window||this,i=t,n=e[typeof exports]&&exports,r=e[typeof module]&&module&&!module.nodeType&&module,o=n&&r&&"object"==typeof global&&global;!o||o.global!==o&&o.window!==o&&o.self!==o||(t=o);var a=Math.pow(2,53)-1,l=/\bOpera/,s=this,b=Object.prototype,p=b.hasOwnProperty,c=b.toString;function u(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function d(e){return e=g(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:u(e)}function f(e,t){for(var i in e)p.call(e,i)&&t(e[i],i,e)}function S(e){return null==e?u(e):c.call(e).slice(8,-1)}function x(e,t){var i=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(i)||"object"==i&&!e[t])}function h(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function m(e,t){var i=null;return function(e,t){var i=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=a)for(;++i<n;)t(e[i],i,e);else f(e,t)}(e,function(n,r){i=t(i,n,r,e)}),i}function g(e){return String(e).replace(/^ +| +$/g,"")}var y=function e(n){var r=t,o=n&&"object"==typeof n&&"String"!=S(n);o&&(r=n,n=null);var a=r.navigator||{},b=a.userAgent||"";n||(n=b);var p,u,y=o||s==i,O=o?!!a.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(c.toString()),M="Object",v=o?M:"ScriptBridgingProxyObject",w=o?M:"Environment",P=o&&r.java?"JavaPackage":S(r.java),E=o?M:"RuntimeObject",k=/\bJava/.test(P)&&r.java,C=k&&S(r.environment)==w,W=k?"a":"α",B=k?"b":"β",I=r.document||{},A=r.operamini||r.opera,R=l.test(R=o&&A?A["[[Class]]"]:S(A))?R:A=null,T=n,F=[],G=null,$=n==b,X=$&&A&&"function"==typeof A.version&&A.version(),j=m([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||h(t))+"\\b","i").exec(n)&&(t.label||t)}),N=m(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||h(t))+"\\b","i").exec(n)&&(t.label||t)}),K=L([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=m({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,i){return e||(t[K]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(K)]||RegExp("\\b"+h(i)+"(?:\\b|\\w*\\d)","i").exec(n))&&i}),z=m(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var i,r,o,a,l=t.pattern||h(t);return!e&&(e=RegExp("\\b"+l+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(i=e,r=l,o=t.label||t,a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},r&&o&&/^Win/i.test(i)&&!/^Windows Phone /i.test(i)&&(a=a[/[\d.]+$/.exec(i)])&&(i="Windows "+a),i=String(i),r&&o&&(i=i.replace(RegExp(r,"i"),o)),e=i=d(i.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function L(e){return m(e,function(e,t){var i=t.pattern||h(t);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((e=String(t.label&&!RegExp(i,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=d(e[0].replace(RegExp(i,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(j&&(j=[j]),V&&!K&&(K=L([V])),(p=/\bGoogle TV\b/.exec(K))&&(K=p[0]),/\bSimulator\b/i.test(n)&&(K=(K?K+" ":"")+"Simulator"),"Opera Mini"==N&&/\bOPiOS\b/.test(n)&&F.push("running in Turbo/Uncompressed mode"),"IE"==N&&/\blike iPhone OS\b/.test(n)?(V=(p=e(n.replace(/like iPhone OS/,""))).manufacturer,K=p.product):/^iP/.test(K)?(N||(N="Safari"),z="iOS"+((p=/ OS ([\d_]+)/i.exec(n))?" "+p[1].replace(/_/g,"."):"")):"Konqueror"!=N||/buntu/i.test(z)?V&&"Google"!=V&&(/Chrome/.test(N)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(K))||/\bAndroid\b/.test(z)&&/^Chrome/.test(N)&&/\bVersion\//i.test(n)?(N="Android Browser",z=/\bAndroid\b/.test(z)?z:"Android"):"Silk"==N?(/\bMobi/i.test(n)||(z="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&F.unshift("accelerated")):"PaleMoon"==N&&(p=/\bFirefox\/([\d.]+)\b/.exec(n))?F.push("identifying as Firefox "+p[1]):"Firefox"==N&&(p=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(z||(z="Firefox OS"),K||(K=p[1])):!N||(p=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(N))?(N&&!K&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(p+"/")+8))&&(N=null),(p=K||V||z)&&(K||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(z))&&(N=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z)?z:p)+" Browser")):"Electron"==N&&(p=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&F.push("Chromium "+p):z="Kubuntu",X||(X=m(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",h(N),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null})),(p=("iCab"==j&&parseFloat(X)>3?"WebKit":/\bOpera\b/.test(N)&&(/\bOPR\b/.test(n)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(n)&&("Mac OS"==z?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(N)&&"NetFront")&&(j=[p]),"IE"==N&&(p=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(N+=" Mobile",z="Windows Phone "+(/\+$/.test(p)?p:p+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(N="IE Mobile",z="Windows Phone 8.x",F.unshift("desktop mode"),X||(X=(/\brv:([\d.]+)/.exec(n)||0)[1])):"IE"!=N&&"Trident"==j&&(p=/\brv:([\d.]+)/.exec(n))&&(N&&F.push("identifying as "+N+(X?" "+X:"")),N="IE",X=p[1]),$){if(x(r,"global"))if(k&&(T=(p=k.lang.System).getProperty("os.arch"),z=z||p.getProperty("os.name")+" "+p.getProperty("os.version")),y&&x(r,"system")&&(p=[r.system])[0]){z||(z=p[0].os||null);try{p[1]=r.require("ringo/engine").version,X=p[1].join("."),N="RingoJS"}catch(e){p[0].global.system==r.system&&(N="Narwhal")}}else"object"==typeof r.process&&!r.process.browser&&(p=r.process)?("object"==typeof p.versions&&("string"==typeof p.versions.electron?(F.push("Node "+p.versions.node),N="Electron",X=p.versions.electron):"string"==typeof p.versions.nw&&(F.push("Chromium "+X,"Node "+p.versions.node),N="NW.js",X=p.versions.nw)),N||(N="Node.js",T=p.arch,z=p.platform,X=(X=/[\d.]+/.exec(p.version))?X[0]:"unknown")):C&&(N="Rhino");else S(p=r.runtime)==v?(N="Adobe AIR",z=p.flash.system.Capabilities.os):S(p=r.phantom)==E?(N="PhantomJS",X=(p=p.version||null)&&p.major+"."+p.minor+"."+p.patch):"number"==typeof I.documentMode&&(p=/\bTrident\/(\d+)/i.exec(n))?(X=[X,I.documentMode],(p=+p[1]+4)!=X[1]&&(F.push("IE "+X[1]+" mode"),j&&(j[1]=""),X[1]=p),X="IE"==N?String(X[1].toFixed(1)):X[0]):"number"==typeof I.documentMode&&/^(?:Chrome|Firefox)\b/.test(N)&&(F.push("masking as "+N+" "+X),N="IE",X="11.0",j=["Trident"],z="Windows");z=z&&d(z)}if(X&&(p=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(X)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+($&&a.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(G=/b/i.test(p)?"beta":"alpha",X=X.replace(RegExp(p+"\\+?$"),"")+("beta"==G?B:W)+(/\d+\+?/.exec(p)||"")),"Fennec"==N||"Firefox"==N&&/\b(?:Android|Firefox OS)\b/.test(z))N="Firefox Mobile";else if("Maxthon"==N&&X)X=X.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(K))"Xbox 360"==K&&(z=null),"Xbox 360"==K&&/\bIEMobile\b/.test(n)&&F.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(N)&&(!N||K||/Browser|Mobi/.test(N))||"Windows CE"!=z&&!/Mobi/i.test(n))if("IE"==N&&$)try{null===r.external&&F.unshift("platform preview")}catch(e){F.unshift("embedded")}else(/\bBlackBerry\b/.test(K)||/\bBB10\b/.test(n))&&(p=(RegExp(K.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||X)?(z=((p=[p,/BB10/.test(n)])[1]?(K=null,V="BlackBerry"):"Device Software")+" "+p[0],X=null):this!=f&&"Wii"!=K&&($&&A||/Opera/.test(N)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==N&&/\bOS X (?:\d+\.){2,}/.test(z)||"IE"==N&&(z&&!/^Win/.test(z)&&X>5.5||/\bWindows XP\b/.test(z)&&X>8||8==X&&!/\bTrident\b/.test(n)))&&!l.test(p=e.call(f,n.replace(l,"")+";"))&&p.name&&(p="ing as "+p.name+((p=p.version)?" "+p:""),l.test(N)?(/\bIE\b/.test(p)&&"Mac OS"==z&&(z=null),p="identify"+p):(p="mask"+p,N=R?d(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(p)&&(z=null),$||(X=null)),j=["Presto"],F.push(p));else N+=" Mobile";(p=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(p=[parseFloat(p.replace(/\.(\d)$/,".0$1")),p],"Safari"==N&&"+"==p[1].slice(-1)?(N="WebKit Nightly",G="alpha",X=p[1].slice(0,-1)):X!=p[1]&&X!=(p[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||(X=null),p[1]=(/\bChrome\/([\d.]+)/i.exec(n)||0)[1],537.36==p[0]&&537.36==p[2]&&parseFloat(p[1])>=28&&"WebKit"==j&&(j=["Blink"]),$&&(O||p[1])?(j&&(j[1]="like Chrome"),p=p[1]||((p=p[0])<530?1:p<532?2:p<532.05?3:p<533?4:p<534.03?5:p<534.07?6:p<534.1?7:p<534.13?8:p<534.16?9:p<534.24?10:p<534.3?11:p<535.01?12:p<535.02?"13+":p<535.07?15:p<535.11?16:p<535.19?17:p<536.05?18:p<536.1?19:p<537.01?20:p<537.11?"21+":p<537.13?23:p<537.18?24:p<537.24?25:p<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),p=(p=p[0])<400?1:p<500?2:p<526?3:p<533?4:p<534?"4+":p<535?5:p<537?6:p<538?7:p<601?8:"8"),j&&(j[1]+=" "+(p+="number"==typeof p?".x":/[.+]/.test(p)?"":"+")),"Safari"==N&&(!X||parseInt(X)>45)&&(X=p)),"Opera"==N&&(p=/\bzbov|zvav$/.exec(z))?(N+=" ",F.unshift("desktop mode"),"zvav"==p?(N+="Mini",X=null):N+="Mobile",z=z.replace(RegExp(" *"+p+"$"),"")):"Safari"==N&&/\bChrome\b/.exec(j&&j[1])&&(F.unshift("desktop mode"),N="Chrome Mobile",X=null,/\bOS X\b/.test(z)?(V="Apple",z="iOS 4.3+"):z=null),X&&0==X.indexOf(p=/[\d.]+$/.exec(z))&&n.indexOf("/"+p+"-")>-1&&(z=g(z.replace(p,""))),j&&!/\b(?:Avant|Nook)\b/.test(N)&&(/Browser|Lunascape|Maxthon/.test(N)||"Safari"!=N&&/^iOS/.test(z)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(N)&&j[1])&&(p=j[j.length-1])&&F.push(p),F.length&&(F=["("+F.join("; ")+")"]),V&&K&&K.indexOf(V)<0&&F.push("on "+V),K&&F.push((/^on /.test(F[F.length-1])?"":"on ")+K),z&&(p=/ ([\d.+]+)$/.exec(z),u=p&&"/"==z.charAt(z.length-p[0].length-1),z={architecture:32,family:p&&!u?z.replace(p[0],""):z,version:p?p[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(p=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(T))&&!/\bi686\b/i.test(T)?(z&&(z.architecture=64,z.family=z.family.replace(RegExp(" *"+p),"")),N&&(/\bWOW64\b/i.test(n)||$&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(n))&&F.unshift("32-bit")):z&&/^OS X/.test(z.family)&&"Chrome"==N&&parseFloat(X)>=39&&(z.architecture=64),n||(n=null);var _={};return _.description=n,_.layout=j&&j[0],_.manufacturer=V,_.name=N,_.prerelease=G,_.product=K,_.ua=n,_.version=N&&X,_.os=z||{architecture:null,family:null,version:null,toString:function(){return"null"}},_.parse=e,_.toString=function(){return this.description||""},_.version&&F.unshift(X),_.name&&F.unshift(N),z&&N&&(z!=String(z).split(" ")[0]||z!=N.split(" ")[0]&&!K)&&F.push(K?"("+z+")":"on "+z),F.length&&(_.description=F.join(" ")),_}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.platform=y,define(function(){return y})):n&&r?f(y,function(e,t){n[t]=e}):t.platform=y}).call(this);